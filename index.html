<script>
    function switchDNA(file, name, desc, btn) {
        const video = document.getElementById('bg-video');
        
        // Update source and metadata
        video.src = file + ".mp4";
        document.getElementById('agent-name').innerText = name;
        document.getElementById('agent-desc').innerHTML = desc;
        
        // THE AUDIO FIX: When you click a button, we unmute and set volume
        video.muted = false;
        video.volume = 0.7; // 70% volume for a professional feel
        
        video.load();
        video.play().catch(error => {
            console.log("Audio still blocked by browser. User must click again.");
        });

        // Update button visual state
        document.querySelectorAll('button').forEach(b => b.classList.remove('active-btn'));
        btn.classList.add('active-btn');
    }

    // THE ELAINE FAILSAFE: Unmute the current video on the very first tap anywhere
    document.addEventListener('click', function() {
        const video = document.getElementById('bg-video');
        video.muted = false;
        video.play();
    }, { once: true });
</script>
